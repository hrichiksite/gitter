{
  "chat": {
    "_parent": {
      "type": "user"
    },
    "dynamic" : "strict",
    "properties": {
      "text": {
        "type": "string",
        "index": "analyzed",
        "term_vector": "with_positions_offsets",
        "norms": {
          "enabled": false
        }
      },
      "lang": {
        "type": "string",
        "index": "not_analyzed"
      },
      "pub": {
        "type": "boolean",
        "index": "not_analyzed"
      },
      "sent": {
        "type": "date"
      },
      "toTroupeId": {
        "type": "string",
        "index": "not_analyzed"
      },
      "fromUserId": {
        "type": "string",
        "index": "not_analyzed"
      },
      "_analyzer": {
        "type": "string",
        "index": "not_analyzed"
      }
    }
  }
}